<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NTJMWH0TW1"></script>
    <script data-cfasync="false">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-0NTJMWH0TW1');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.11.0.805920984313">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.11.0">

    <!-- Primary Meta Tags -->
    <title>DreamGen | docs.ST.app</title>
    <meta name="title" content="DreamGen | docs.ST.app">
    <meta name="description" content="DreamGen is an app and an API for AI-powered creative writing.">

    <!-- Canonical -->
    <link rel="canonical" href="https://docs.sillytavern.app/usage/api-connections/dreamgen/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.sillytavern.app/usage/api-connections/dreamgen/">
    <meta property="og:title" content="DreamGen | docs.ST.app">
    <meta property="og:description" content="DreamGen is an app and an API for AI-powered creative writing.">
    <meta property="og:image" content="https://docs.sillytavern.app/static/dreamgen/dreamgen_api_keys_new.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.sillytavern.app/usage/api-connections/dreamgen/">
    <meta property="twitter:title" content="DreamGen | docs.ST.app">
    <meta property="twitter:description" content="DreamGen is an app and an API for AI-powered creative writing.">
    <meta property="twitter:image" content="https://docs.sillytavern.app/static/dreamgen/dreamgen_api_keys_new.jpg">

    <script data-cfasync="false">(function(){var cl=document.documentElement.classList,ls=localStorage.getItem("retype_scheme"),hd=cl.contains("dark"),hl=cl.contains("light"),wm=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(ls==="dark"||(!ls&&wm&&!hd&&!hl)){cl.remove("light");cl.add("dark")}else if(ls==="light"||(!ls&&!wm&&!hd&&!hl)){cl.remove("dark");cl.add("light")}})();</script>

    <link href="../../../resources/css/retype.css?v=3.11.0.805920984313" rel="stylesheet">

    <script data-cfasync="false" src="../../../resources/js/config.js?v=3.11.0.805920984313" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../../resources/js/retype.js?v=3.11.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../../resources/js/lunr.js?v=3.11.0.805920984313" data-turbo-eval="false" defer></script>

    <style>
        a {
            color: brown !important;
        }

        .dark a {
            color: rgb(223, 151, 18) !important;
        }

        body {
            font-family: Noto Sans, sans-serif;
        }

        .callout {
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid #d2d6dc;
            border-radius: 0.375rem;
        }

        .callout p {
            margin-bottom: 0.5rem !important;
            overflow: hidden;
        }

        .callout p:last-child {
            margin-bottom: 0 !important;
        }

        .callout .fa-fw {
            margin: 1rem 0.5rem 1rem 0;
            color: slategrey;
        }

        .docs-markdown .codeblock code,
        .docs-markdown .codeblock pre {
            white-space: pre-wrap;
        }
    </style>
    <link href="/static/webfonts/NotoSans/stylesheet.css" rel="stylesheet" />
    <link href="/static/css/fontawesome.min.css" rel="stylesheet" />
    <link href="/static/css/solid.min.css" rel="stylesheet" />
    <link href="/static/css/brands.min.css" rel="stylesheet" />

</head>
<body>
    <div id="retype-app" class="relative text-base antialiased text-base-text bg-base-bg font-body">
        <div class="absolute bottom-0 left-0" style="top: 5rem; right: 50%"></div>
    
        <header id="retype-header" class="sticky top-0 z-30 flex w-full h-16 bg-header-bg border-b border-header-border md:h-20">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton retype-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="retype-sidebar-left-toggle-button"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="retype-branding-logo" href="../../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../../static/logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../../static/logo.png">
                            </span>
                            <span class="dark:text-white font-bold line-clamp-1 md:line-clamp-2">SillyTavern Documentation</span>
                        </a>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block border-base-border"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav id="retype-header-nav" class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://github.com/SillyTavern/SillyTavern">GitHub</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://discord.gg/sillytavern">Discord</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://www.reddit.com/r/SillyTavernAI/">Reddit</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-search-placeholder transition-colors duration-200 ease-in bg-search-bg border border-transparent rounded md:text-sm hover:border-search-border-hover focus:outline-none focus:border-search-border-focus" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="retype-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
    
        <div id="retype-container" class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-sidebar-left-bg border-sidebar-left-border sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton">
            
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-filter-bg border border-filter-border rounded shadow-none text-sm focus:outline-none focus:border-filter-border-focus" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-base-border">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-base-border">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-base-border">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://github.com/SillyTavern/SillyTavern">GitHub</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://discord.gg/sillytavern">Discord</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://www.reddit.com/r/SillyTavernAI/">Reddit</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 bg-body-bg">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div id="retype-main" class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="retype-markdown" id="retype-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="retype-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="dreamgen" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#dreamgen">#</doc-anchor-trigger>
        <span>DreamGen</span>
    </h1>
</doc-anchor-target>
<p>DreamGen is an app and an API for AI-powered creative writing. They have a free tier, as well as a paid subscription that allows unlimited monthly access to their high-quality in-house text generation models made specifically for the purpose of steerable AI-assisted writing. Create an account to get started: <a href="https://dreamgen.com/">https://dreamgen.com/</a>.</p>
<p>The (free) credits reset at the start of each calendar month. See <a href="https://dreamgen.com/pricing">pricing</a> to see the credit cost for each model and <a href="https://dreamgen.com/account/usage">usage</a> to see your remaining credits.</p>
<doc-anchor-target id="connecting-to-dreamgen">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#connecting-to-dreamgen">#</doc-anchor-trigger>
        <span>Connecting to DreamGen</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="get-api-key">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#get-api-key">#</doc-anchor-trigger>
        <span>Get API Key</span>
    </h3>
</doc-anchor-target>
<p>Go to the <a href="https://dreamgen.com/account/api-keys">DreamGen API keys</a> page and click the &quot;New API Key&quot; button. Make sure the API Key is copied into your clipboard.</p>
<p><figure class="content-center">
    <img src="../../../static/dreamgen/dreamgen_api_keys_new.jpg" alt="Create New DreamGen API key" class="rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">Create New DreamGen API key</figcaption>
</figure>
<figure class="content-center">
    <img src="../../../static/dreamgen/dreamgen_api_keys_copy.jpg" alt="Copy DreamGen API key" class="rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">Copy DreamGen API key</figcaption>
</figure>
</p>
<doc-anchor-target id="connect">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#connect">#</doc-anchor-trigger>
        <span>Connect</span>
    </h3>
</doc-anchor-target>
<ol>
<li>Go to the SillyTavern connection settings.</li>
<li>Select API: Text Completion</li>
<li>Select API Type: DreamGen</li>
<li>Enter the API key</li>
<li>(optional) Pick a model</li>
</ol>
<p><figure class="content-center">
    <img src="../../../static/dreamgen/dreamgen_st_connection.jpg" alt="Connecting to DreamGen" class="rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">Connecting to DreamGen</figcaption>
</figure>
</p>
<doc-anchor-target id="models">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#models">#</doc-anchor-trigger>
        <span>Models</span>
    </h2>
</doc-anchor-target>
<p>DreamGen offers <code v-pre>opus-v1-sm</code>, <code v-pre>opus-v1-lg</code>, and <code v-pre>opus-v1-xl</code>. The larger the model, the better it will be at following instructions and writing good stories.</p>
<doc-anchor-target id="formatting-settings">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#formatting-settings">#</doc-anchor-trigger>
        <span>Formatting Settings</span>
    </h2>
</doc-anchor-target>
<p>The DreamGen models expect a specific input format, which is <a href="https://dreamgen.com/docs/models/opus/v1">documented here</a>.</p>
<p>SillyTavern comes with built-in presets made for DreamGen. Make sure to use these settings as your baseline.
These settings try to stick to the DreamGen format as closely as possible but due to the irregular formatting of character cards, it is not always perfect.</p>
<ol>
<li>Go to the &quot;Advanced Formatting&quot; page.</li>
<li>Under &quot;Context Template&quot; pick <code v-pre>DreamGen Role-Play V1 Llama3 / ChatML</code> depending on the model (*).</li>
<li><strong>Enable &quot;Instruct Mode&quot;.</strong></li>
<li>Under &quot;Instruct Mode Presets&quot; pick <code v-pre>DreamGen Role-Play V1 Llama3 / ChatML</code>.</li>
</ol>
<p><figure class="content-center">
    <img src="../../../static/dreamgen/dreamgen_st_context_settings.jpg" alt="DreamGen context settings" class="rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">DreamGen context settings</figcaption>
</figure>
<figure class="content-center">
    <img src="../../../static/dreamgen/dreamgen_st_instruct_settings.jpg" alt="DreamGen instruct settings" class="rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">DreamGen instruct settings</figcaption>
</figure>
</p>
<p>(*) When to use Llama 3 and when to use ChatML? As of 2024/06/17, <code v-pre>opus-v1-sm</code> is <code v-pre>ChatML</code> and all other models are <code v-pre>Llama3</code> based.
When running local models, the template will be indicated in the model&#x27;s HuggingFace card.</p>
<doc-anchor-target id="completion-settings">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#completion-settings">#</doc-anchor-trigger>
        <span>Completion Settings</span>
    </h2>
</doc-anchor-target>
<p>DreamGen supports:</p>
<ul>
<li>&quot;Temperature&quot;, &quot;Top P&quot;, &quot;Top K&quot; and &quot;Min P&quot;</li>
<li>&quot;Presence Penalty&quot;, &quot;Frequency Penalty&quot; and &quot;Repetition Penalty&quot; (without range)</li>
<li>&quot;Min Length&quot; -- lets you force the model to generate at least <code v-pre>min(min_length, max_tokens)</code> tokens</li>
</ul>
<p>Good starting values might be:</p>
<ul>
<li>Min P: 0.05</li>
<li>Temperature: 0.8</li>
<li>Repetition Penalty: 1.1</li>
</ul>
<doc-anchor-target id="tips-for-formatting">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#tips-for-formatting">#</doc-anchor-trigger>
        <span>Tips for Formatting</span>
    </h2>
</doc-anchor-target>
<p>The DreamGen models differ from the regular instruction-following models like OpenAI&#x27;s ChatGPT.</p>
<p>The models were fine-tuned for the task of writing a story based on the provided description which typically consists of plot description, style description, characters, locations, lore, etc. The models can also be <em>steered</em> in the middle of the story, making you the director, telling the characters what they should do or how the plot should unfold.</p>
<p>A well-formatted <strong>system prompt</strong> message would look like this:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">You are an intelligent, skilled, versatile writer.

Your task is to write a story based on the information below.


## Plot description:

The librarian sets up a blind date between Lucifer and Mia. Lucifer immediately falls in love with Mia, but Mia needs more space and time to make up her mind.


## Style description:

The narrative is vivid and intensely sensual, with a strong emphasis on raw emotion conveyed from a first-person point of view. The language is explicit, evoking intense imagery and indulging in the erotic exploration of the characters' passionate encounters.


## Characters

### Lucifer

Lucifer, the red-skinned, horned demon, is the embodiment of fallen grace. Wrestling with his notorious heritage and a newfound desire for love, his complex nature ferments with vulnerability. His character oscillates between hedonism and self-reflection, hungering for acceptance by Mia and the librarian. Embracing his mortal love, he yearns for transformation, embodying the notion that even the damned may seek solace in love's redemption.

### Mia

Mia is a kind woman...</code></pre>
</doc-codeblock></div>
<p>Note that the <strong>prompt should be a description of the story</strong>, rather than instructions or directives on how the story should be written. <strong>Avoid using phrases like:</strong></p>
<ul>
<li>&quot;Write the story as if...&quot;</li>
<li>&quot;Make sure to...&quot;</li>
<li>etc.</li>
</ul>
<p>See more <a href="https://dreamgen.com/docs/models/opus/v1#task-story-writing">examples</a> of what the plot, style and character descriptions should look like.</p>
<p>The default &quot;DreamGen Role-Play V1&quot; template substitutes the different sections as follows:</p>
<ul>
<li><code v-pre>## Plot description:</code> will consist of <code v-pre>{{scenario}}</code> and <code v-pre>{{wiBefore}}</code>.</li>
<li><code v-pre>## Style description:</code> is not provided, you should either add it to the system prompt under Advanced Settings, or to the character cards, at the end of <code v-pre>{{scenario}}</code>. This section is useful to influence the narrative style (first, second, third person), the tense (past, present), the level of detail and verbosity, etc.</li>
<li><code v-pre>## Characters:</code> will have a <code v-pre>{{char}}</code> character with description consisting of <code v-pre>{{description}}</code> and <code v-pre>{{personality}}</code> and a <code v-pre>{{user}}</code> character with description consisting of <code v-pre>{{persona}}</code>.</li>
</ul>
<doc-anchor-target id="message-examples-and-initial-message">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#message-examples-and-initial-message">#</doc-anchor-trigger>
        <span>Message Examples and Initial Message</span>
    </h3>
</doc-anchor-target>
<p>The DreamGen models are very responsive to the context -- they will largely stick to the writing style (and facts) presented in the previous conversation turns.
This makes the message examples and the initial message very important.</p>
<doc-anchor-target id="formatting-message-examples">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#formatting-message-examples">#</doc-anchor-trigger>
        <span>Formatting Message Examples</span>
    </h4>
</doc-anchor-target>
<p>The <code v-pre>{{mesExamples}}</code> are appended at the end of the system prompt. To take full advantage of the instruct formatting, make sure that your examples are separated with the <code v-pre>&lt;START&gt;</code> separator. For example:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">&lt;START&gt;
{{user}}: (user's turn)
{{char}}: (char's turn)
&lt;START&gt;
{{user}}: (user's turn)
{{char}}: (char's turn)</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="examples">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#examples">#</doc-anchor-trigger>
        <span>Examples</span>
    </h3>
</doc-anchor-target>
<p>Here are a couple of example cards, adapted for DreamGen, that take into account the unique prompting. These cards also leverage the <code v-pre>{{mesExamples}}</code> as described above.</p>
<doc-anchor-target id="seraphina">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#seraphina">#</doc-anchor-trigger>
        <span>Seraphina</span>
    </h4>
</doc-anchor-target>
<p>This is an edit of the popular Seraphina card that&#x27;s built into SillyTavern by default.</p>
<div style="width:200px;">
<p><figure class="content-center">
    <a href="../../../static/dreamgen/cards/seraphina.png">
        <img src="../../../static/dreamgen/cards/seraphina.png" alt="Seraphina" class="rounded-image-rounded border-image-border border-image-border-width" />
    </a>
    <figcaption class="caption">Seraphina</figcaption>
</figure>
</p>
</div>
<doc-anchor-target id="lara-lightland">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#lara-lightland">#</doc-anchor-trigger>
        <span>Lara Lightland</span>
    </h4>
</doc-anchor-target>
<p>This is an edit of the Lara Lightland card by Deffcolony.</p>
<div style="width:200px;">
<p><figure class="content-center">
    <a href="../../../static/dreamgen/cards/laralightland.png">
        <img src="../../../static/dreamgen/cards/laralightland.png" alt="Lara Lightland" class="rounded-image-rounded border-image-border border-image-border-width" />
    </a>
    <figcaption class="caption">Lara Lightland</figcaption>
</figure>
</p>
</div>
<doc-anchor-target id="faq">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#faq">#</doc-anchor-trigger>
        <span>FAQ</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="what-sampler-settings-should-i-use">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#what-sampler-settings-should-i-use">#</doc-anchor-trigger>
        <span>What sampler settings should I use?</span>
    </h3>
</doc-anchor-target>
<p>You can start with these:</p>
<ul>
<li>Temperature: 1.0</li>
<li>MinP: 0.05</li>
<li>Presence Penalty: 0.1</li>
<li>Frequency Penalty: 0.1</li>
</ul>
<doc-anchor-target id="how-can-i-make-the-responses-longer-or-shorter">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#how-can-i-make-the-responses-longer-or-shorter">#</doc-anchor-trigger>
        <span>How can I make the responses longer or shorter?</span>
    </h3>
</doc-anchor-target>
<p>You have several options:</p>
<ul>
<li>Change or add the <code v-pre>## Style description:</code> in the system prompt or model card. You can try adding something like &quot;Sentences are generally long, and the narrative describes the setting in painstaking detail.&quot;</li>
<li>Change the <code v-pre>Min Length</code> in the Completion Settings.</li>
<li>Add <code v-pre>Last Output Sequence</code> similar to the following in the Advanced Formatting settings under Instruct Mode:</li>
</ul>
<p>Here&#x27;s an example of the <code v-pre>Last Output Sequence</code> that might help make the model respond in a more verbose way, using the Llama 3 template:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">&lt;|eot_id|&gt;
&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;

Length: 400 words
Plot: {{char}} replies to {{user}} in detailed and elaborate way.&lt;|eot_id|&gt;
&lt;|start_header_id|&gt;writer character: {{char}}&lt;|end_header_id|&gt;

</code></pre>
</doc-codeblock></div>
<p>The same expressed using the ChatML template:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">&lt;|im_end|&gt;
&lt;|im_start|&gt;user
Length: 400 words
Plot: {{char}} replies to {{user}} in detailed and elaborate way.&lt;|im_end|&gt;
&lt;|im_start|&gt;text names= {{char}}</code></pre>
</doc-codeblock></div>
<p>You can change the text within to something more suitable for your scenario or context.</p>
<doc-anchor-target id="how-can-i-stop-the-model-from-repeating-itself">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#how-can-i-stop-the-model-from-repeating-itself">#</doc-anchor-trigger>
        <span>How can I stop the model from repeating itself?</span>
    </h3>
</doc-anchor-target>
<p>If the model repeats what&#x27;s in the context, you can try increasing &quot;Repetition Penalty&quot; in the Completion Settings or you can try rephrasing the part of the context that&#x27;s getting repeated.
If the model repeats itself within one message, you can try increasing &quot;Presence Penalty&quot; or &quot;Frequency Penalty&quot;.</p>
<doc-anchor-target id="how-can-i-steer-the-story">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#how-can-i-steer-the-story">#</doc-anchor-trigger>
        <span>How can I steer the story?</span>
    </h3>
</doc-anchor-target>
<p>If you want to direct the characters to do something, or to steer the plot in certain direction, you can use the <code v-pre>user</code> role (that is the <code v-pre>&lt;|im_start|&gt;user</code> preamble).</p>
<p>At this point, this functionality is not neatly integrated into SillyTavern natively, but you can use the <code v-pre>Last Output Sequence</code> as described above to insert the <code v-pre>user</code> (instruction) turn. See <a href="https://dreamgen.com/docs/models/opus/v1#prompt-instructions">examples</a> of what the instructions should look here.</p>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer id="retype-content-footer" class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a id="retype-edit-this-page" class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-body-link font-body-link-weight hover:text-body-link-hover hover:underline" href="https://github.com/SillyTavern/SillyTavern-Docs/edit/main/Usage/API_Connections/DreamGen.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit this page</span>
                                    </a>
                                </div>
                            
                                <nav id="retype-nextprev" class="print:hidden flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../../usage/api-connections/horde/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-base-text-muted">Previous</span>
                                                <span class="block mt-1">AI Horde</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../../usage/api-connections/google/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-base-text-muted">Next</span>
                                                <span class="block mt-1">Google Gemini</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div id="retype-page-footer" class="print:border-none border-t border-base-border pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between print:justify-center">
                                <div id="retype-footer-links" class="print:hidden">
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div id="retype-copyright" class="print:justify-center py-2 text-footer-text font-footer-link-weight text-sm leading-relaxed"><p>© Copyright 2025. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-sidebar-right-bg border-sidebar-right-border lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="retype-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "DreamGen", level: 3, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
