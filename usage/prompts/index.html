<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NTJMWH0TW1"></script>
    <script data-cfasync="false">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-0NTJMWH0TW1');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.8.1.801559014836">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.8.1">

    <!-- Primary Meta Tags -->
    <title>Prompts | docs.ST.app</title>
    <meta name="title" content="Prompts | docs.ST.app">
    <meta name="description" content="When you send a message to your AI, the text you write is combined with other text to form a single request that's sent to the AI.">

    <!-- Canonical -->
    <link rel="canonical" href="https://docs.sillytavern.app/usage/prompts/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.sillytavern.app/usage/prompts/">
    <meta property="og:title" content="Prompts | docs.ST.app">
    <meta property="og:description" content="When you send a message to your AI, the text you write is combined with other text to form a single request that's sent to the AI.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.sillytavern.app/usage/prompts/">
    <meta property="twitter:title" content="Prompts | docs.ST.app">
    <meta property="twitter:description" content="When you send a message to your AI, the text you write is combined with other text to form a single request that's sent to the AI.">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=3.8.1.801559014836" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.8.1.801559014836" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.8.1" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.8.1.801559014836" data-turbo-eval="false" defer></script>

    <style>
        a {
            color: brown !important;
        }

        .dark a {
            color: rgb(223, 151, 18) !important;
        }

        body {
            font-family: Noto Sans, sans-serif;
        }

        .callout {
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid #d2d6dc;
            border-radius: 0.375rem;
        }

        .callout p {
            margin-bottom: 0.5rem !important;
            overflow: hidden;
        }

        .callout p:last-child {
            margin-bottom: 0 !important;
        }

        .callout .fa-fw {
            margin: 1rem 0.5rem 1rem 0;
            color: slategrey;
        }

        .docs-markdown .codeblock code,
        .docs-markdown .codeblock pre {
            white-space: pre-wrap;
        }
    </style>
    <link href="/static/webfonts/NotoSans/stylesheet.css" rel="stylesheet" />
    <link href="/static/css/fontawesome.min.css" rel="stylesheet" />
    <link href="/static/css/solid.min.css" rel="stylesheet" />
    <link href="/static/css/brands.min.css" rel="stylesheet" />

</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../static/logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../static/logo.png">
                            </span>
                            <span class="dark:text-white font-bold line-clamp-1 md:line-clamp-2">SillyTavern Documentation</span>
                        </a>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/SillyTavern/SillyTavern">GitHub</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://discord.gg/sillytavern">Discord</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.reddit.com/r/SillyTavernAI/">Reddit</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-white border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/SillyTavern/SillyTavern">GitHub</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://discord.gg/sillytavern">Discord</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.reddit.com/r/SillyTavernAI/">Reddit</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="prompts" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#prompts">#</doc-anchor-trigger>
        <span>Prompts</span>
    </h1>
</doc-anchor-target>
<p>When you send a message to your AI, the text you write is combined with other text to form a single request that&#x27;s sent to the AI. This combined text is called a &quot;prompt&quot; or sometimes the &quot;request&quot; or &quot;context.&quot;</p>
<p>The prompt can include a variety of different types of text, including:</p>
<ul>
<li><doc-anchor-trigger to="#main-prompt-system-prompt">Main instructions</doc-anchor-trigger> to the AI about how to generate a response</li>
<li>Definitions of the <a href="../core-concepts/characterdesign/">roles that the AI should take on</a></li>
<li>Definitions of <a href="../core-concepts/personas/">the role that you are taking on</a></li>
<li><a href="../core-concepts/worldinfo/">Information about the &quot;world&quot;</a> that the AI is interacting with</li>
<li>Relevant documents or information from <a href="../core-concepts/data-bank/">Data Bank</a></li>
<li><a href="../../extensions/summarize/">Summaries</a> of the past conversation</li>
<li>Results of <a href="../../extensions/websearch/">web searches</a> or other <a href="../../for-contributors/function-calling/">external data sources</a></li>
<li>Previous messages in the conversation</li>
<li><strong>Your message to the AI</strong></li>
<li><doc-anchor-trigger to="#post-history-instructions">Final instructions</doc-anchor-trigger> for the AI about how to generate a response</li>
</ul>
<p>This can be a lot to manage! To help you understand how to structure and modify the request that&#x27;s sent to the AI, SillyTavern identifies different elements that you might want to include in your prompt. You can then structure your prompt to include the things that make sense for the way you want to interact with the AI.</p>
<p>Many of these elements are explained in the sections where you will change them. For example, to describe the role that you would like the AI to take on, you could use the <a href="../core-concepts/characterdesign/#personality-summary">Description</a> field in <a href="../core-concepts/characterdesign/">Character Design</a>.</p>
<doc-anchor-target id="viewing-the-prompt">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#viewing-the-prompt">#</doc-anchor-trigger>
        <span>Viewing the Prompt</span>
    </h2>
</doc-anchor-target>
<p>Reading the final prompt that&#x27;s sent to the AI is very helpful for understanding what the AI was told, and why it generated the response that it did. You can view the prompt in several ways:</p>
<ul>
<li>Using the Prompt Itemization icon on the reply message from the AI</li>
<li>Using the <a href="https://github.com/SillyTavern/Extension-PromptInspector">Prompt Inspector</a> extension</li>
<li>Checking the logs in the terminal window that you&#x27;re running SillyTavern in</li>
<li>Checking the console in your browser&#x27;s developer tools</li>
</ul>
<doc-anchor-target id="changing-how-the-prompt-is-built">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#changing-how-the-prompt-is-built">#</doc-anchor-trigger>
        <span>Changing how the Prompt is Built</span>
    </h2>
</doc-anchor-target>
<p>Presenting all the parts of your prompt to the AI in the right way is crucial for getting the best responses. You can control how the prompt is built.</p>
<doc-tabs>
<doc-tab v-cloak id="text-completion-apis">
<template #title>Text Completion APIs</template>
<p>Use the <a href="../core-concepts/advancedformatting/">Advanced Formatting</a> panel to customize prompt construction for Text Completion APIs.</p>
</doc-tab>
<doc-tab v-cloak id="chat-completion-apis">
<template #title>Chat Completion APIs</template>
<p>Use the <a href="prompt-manager/">Prompt Manager</a> to customize prompt construction for Chat Completion APIs.</p>
</doc-tab>
</doc-tabs>
<doc-anchor-target id="main-prompt-system-prompt">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#main-prompt-system-prompt">#</doc-anchor-trigger>
        <span>Main Prompt (System Prompt)</span>
    </h2>
</doc-anchor-target>
<p>The Main Prompt (or System Prompt) defines the general instructions for the model to follow. It sets the tone and context for the conversation. For example, it tells the model to act as an AI assistant, a writing partner, or a fictional character.</p>
<doc-tabs>
<doc-tab v-cloak id="text-completion-apis">
<template #title>Text Completion APIs</template>
<p>The <a href="../core-concepts/advancedformatting/#system-prompt">System Prompt</a> is a part of the <a href="context-template/#story-string">Story String</a> and usually the first part of the prompt that the model receives.</p>
</doc-tab>
<doc-tab v-cloak id="chat-completion-apis">
<template #title>Chat Completion APIs</template>
<p>The Main Prompt is one of the default prompts in <a href="prompt-manager/">Prompt Manager</a>. It is usually the first message in the context that the model receives, attributed to (&quot;sent by&quot;) the system role.</p>
</doc-tab>
</doc-tabs>
<p>The default Main Prompt is:</p>
<blockquote>
<p>Write {{char}}&#x27;s next reply in a fictional chat between {{char}} and {{user}}.</p>
</blockquote>
<p>The {{char}} and {{user}} placeholders are replaced with the names of the character and persona that you&#x27;ve defined in the conversation.</p>
<p>You can use any of the supported <a href="../core-concepts/characterdesign/#macros-replacement-tags">{{macro}}</a> tags in the Main Prompt to include information that might vary between conversations or changes as the conversation progresses.</p>
<doc-anchor-target id="adjusting-the-main-prompt">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#adjusting-the-main-prompt">#</doc-anchor-trigger>
        <span>Adjusting the Main Prompt</span>
    </h3>
</doc-anchor-target>
<p>The default main prompt helps the model understand what it&#x27;s expected to do with the character and persona information that follows, how to interpret the past conversation, and what kind of response to generate. It&#x27;s a flexible general-purpose prompt that works well for many situations, because it establishes that the AI is writing as a character in a conversation with your persona.</p>
<p>However, you can adjust the main prompt to better suit your needs. Here are some common reasons to adjust the main prompt:</p>
<ul>
<li><strong>Provide additional instructions</strong>: for example, you want the AI to explain its reasoning, follow specific rules, or avoid certain topics</li>
<li><strong>Clarify the role of the AI</strong>: for example, you want the AI to act as a narrator, a storyteller, or a guide</li>
<li><strong>Change the context of the conversation</strong>: for example, you want the AI to respond as if it were an AI assistant, text adventure game, or a writing partner</li>
</ul>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Try things out and see what works best for you</h5>
<p>All the examples in this guide have worked well for other users, but the prompt that works for your needs and the model you&#x27;re using might be different. Experiment with different instructions and prompting styles to see what works best for you. If you&#x27;re not sure what to try, you can always ask for help in the <a href="https://discord.gg/sillytavern">SillyTavern Discord</a>.</p>
        </div>
    </div>
</div>
<p>Giving the AI additional instructions in the Main Prompt can help it understand what you want from the conversation.</p>
<blockquote>
<p>Write one reply only. Write at least one paragraph, up to four.</p>
</blockquote>
<blockquote>
<p>Markdown is enabled. Use it to format your response. Enclose code snippets in triple backticks.</p>
</blockquote>
<blockquote>
<p>Write character dialogue in quotation marks. Write {{char}}&#x27;s thoughts in parentheses.</p>
</blockquote>
<blockquote>
<p>You are an anime roleplay generation model for users aged 13 to 17. You always generate fun, age-appropriate responses.</p>
</blockquote>
<blockquote>
<p>Answer truthfully and write out your thinking step by step to be sure you get the right answer.</p>
</blockquote>
<p>The AI will more easily follow instructions about what it should do than what it should not do. For example, if you want the AI to avoid writing in a certain way, it&#x27;s better to tell it how you want it to write instead. And while <em>&quot;Do not decide what {{user}} says or does&quot;</em> is commonly included in prompts to prevent the AI from controlling your persona, some users find <em>&quot;Write  {{char}}&#x27;s responses in a way that respects  {{user}}&#x27;s autonomy&quot;</em> is more effective.</p>
<p>There is often a better place than the Main Prompt to include information about the user or characters, modify a character&#x27;s writing and speaking style, or give other specific instructions. The Main Prompt is best used for general instructions about the conversation as a whole, or about a type of conversation that you want to have.</p>
<doc-anchor-target id="effect-of-message-history">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#effect-of-message-history">#</doc-anchor-trigger>
        <span>Effect of Message History</span>
    </h3>
</doc-anchor-target>
<p>When adjusting the main prompt to improve the AI&#x27;s responses, consder that the AI picks up a lot from the message history. The history is its memory of past events, character interactions and relationships, and its style guide for word choice and writing style.</p>
<p>Use this to your advantage by also providing <a href="../core-concepts/characterdesign/#examples-of-dialogue">example messages</a> showing how you want the AI to respond. Showing what you want is often easier than trying to explain it!</p>
<p>When your conversation already has history, changing the main prompt has a limited effect on the AI&#x27;s responses. In terms of events and relationships, the AI assumes that the main prompt occurred in the distant past, and the message history updates it. In terms of writing style and word choice, the AI assumes that all the messages in history were generated according to the rules in the <em>current</em> main prompt, and that it should continue to generate messages in the same way. Some suggestions for dealing with this are:</p>
<ul>
<li>insert current instructions close to or after the end of message history, for example by using an <a href="../core-concepts/authors-note/">Author&#x27;s Note</a></li>
<li>test your changes to the main prompt by starting a new conversation</li>
<li>edit the message history to remove or correct examples of unwanted behaviour</li>
<li>use the <doc-anchor-trigger to="#post-history-instructions">Post-History Instructions</doc-anchor-trigger> to provide final instructions to the AI</li>
</ul>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Get it right the first time!</h5>
<p>Never let the AI &quot;get away&quot; with something you don&#x27;t want it to do. If you don&#x27;t like the AI&#x27;s response, don&#x27;t continue the conversation as if it was correct. Instead, modify the prompts, regenerate the message, and continue from there. This will help the AI learn what you want.</p>
        </div>
    </div>
</div>
<doc-anchor-target id="removing-the-fictional-chat-context">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#removing-the-fictional-chat-context">#</doc-anchor-trigger>
        <span>Removing the &quot;Fictional Chat&quot; Context</span>
    </h3>
</doc-anchor-target>
<p>There are situations where &quot;fictional chat&quot; might not be the right context for your conversation.</p>
<p>You can remove the &quot;fictional&quot; context from the Main Prompt:</p>
<blockquote>
<p>Write {{char}}&#x27;s next reply in a conversation with {{user}}.</p>
</blockquote>
<p>You may not want the AI to think of itself as role-playing at all. Instead of removing the idea of a character, you can remove the idea of an AI:</p>
<blockquote>
<p>You are {{char}}, a helpful assistant. You provide useful information and help {{user}} with their questions.</p>
</blockquote>
<doc-anchor-target id="ai-as-narrator-or-storyteller">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ai-as-narrator-or-storyteller">#</doc-anchor-trigger>
        <span>AI as Narrator or Storyteller</span>
    </h3>
</doc-anchor-target>
<p>What if you want the AI to act as a narrator, describing events from an omniscient perspective, inventing its own characters and settings?</p>
<p>One approach is to create a named character for the AI to use as a narrator. This character could be called &quot;Narrator&quot; or &quot;AI&quot;, suggesting that the AI is a general-purpose storyteller, or it could be named after a specific scenario or setting, giving the AI the task of narrating a story in that setting. The details of the setting can then be defined in the <a href="../core-concepts/characterdesign/">Character</a> or in <a href="../core-concepts/worldinfo/">World Info</a>.</p>
<p>You will need to adjust the default main prompt to reflect the AI&#x27;s role. For a general-purpose narrator, you might use:</p>
<blockquote>
<p>You are {{char}}, a skilled and versatile storyteller. Narrate the story.</p>
</blockquote>
<p>or for a specific setting:</p>
<blockquote>
<p>You are the narrator of a fantasy scenario. Play as the characters that visit {{char}}.</p>
</blockquote>
<p>It helps to clarify the role of the user in the conversation. Are your messages part of the story, or are they instructions to the narrator about what your character does or says? An example that includes the user in the story:</p>
<blockquote>
<p>The story should progress by responding to the actions and dialogue of {{user}}. Narrate the story in third person.</p>
</blockquote>
<p>An example that keeps the user out of the story:</p>
<blockquote>
<p>Enter Adventure Mode. Narrate the story based on {{user}}&#x27;s dialogue and actions after &quot;&gt;&quot;. Describe the surroundings in vivid detail. Be detailed, creative, verbose, and proactive. Move the story forward by introducing fantasy elements and interesting characters.</p>
</blockquote>
<p>Defining the role of the user not only helps the AI understand how to respond to your messages, but also to what extent it is allowed to control your persona. This avoids situations where the AI makes decisions for your persona that you would rather make yourself.</p>
<doc-anchor-target id="post-history-instructions">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#post-history-instructions">#</doc-anchor-trigger>
        <span>Post-History Instructions</span>
    </h2>
</doc-anchor-target>
<p>Post-History Instructions (PHI) are additional instructions sent to the AI after the main prompt and the user message. They can be used to provide additional context or instructions to the AI based on the message history.</p>
<p>Since the Post-History Instructions are sent after the user message, they are the final instructions that the AI receives before generating a response. The AI usually gives them a higher priority than the main prompt, and they can override the main prompt&#x27;s instructions.</p>
<p>To use per-character Post-History Instructions, add them to the character&#x27;s <a href="../core-concepts/characterdesign/">Post-History Instructions</a> and enable <a href="../user-settings/">Prefer Char. Instructions</a>. To preserve the globally defined PHI while using character-specific instructions, you can use the <code v-pre>{{original}}</code> macro in the character&#x27;s Post-History Instructions field.</p>
<doc-tabs>
<doc-tab v-cloak id="text-completion-apis">
<template #title>Text Completion APIs</template>
<p>Post-History Instructions are defined in the <a href="../core-concepts/advancedformatting/">Advanced Formatting</a> panel under the System Prompt category. The Post-History Instructions is added as an invisible user role injection that precedes the last line of the prompt (usually containing a response message &quot;header&quot;). Note that the &quot;Enable System Prompt&quot; toggle must be enabled for the Post-History Instructions to be applied (even if the System Prompt itself is empty).</p>
</doc-tab>
<doc-tab v-cloak id="chat-completion-apis">
<template #title>Chat Completion APIs</template>
<p>Post-History Instructions is one of the default prompts in <a href="prompt-manager/">Prompt Manager</a>. It is usually the last message in the context that the model receives, attributed to (&quot;sent by&quot;) the system role. If your Chat Completion API does not support the system role, it will usually be attributed to the user role instead.</p>
</doc-tab>
</doc-tabs>
<doc-anchor-target id="adding-to-the-prompt-world-info">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#adding-to-the-prompt-world-info">#</doc-anchor-trigger>
        <span>Adding to the Prompt (World Info)</span>
    </h2>
</doc-anchor-target>
<p>You can insert additional information anywhere in the prompt using the <a href="../core-concepts/worldinfo/">World Info</a> feature. By setting the conditions for when the information should be inserted, you can guide the AI to include specific details, change how it responds, or add new elements to the conversation.</p>
<p>Some common uses of World Info include:</p>
<ul>
<li>a &quot;lorebook&quot; or &quot;encyclopedia&quot; with information about the world or setting</li>
<li>a way to manage different system prompts for various characters and situations</li>
<li>a place to store memories that the AI should &quot;recall&quot; in the conversation</li>
<li>a more modular system for creating, editing, and sharing character details</li>
<li>a source of random events and surprises for the AI to react to, or to make you react to!</li>
</ul>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-blue-500 dark:text-blue-400 hover:text-blue-700 hover:underline" href="https://github.com/SillyTavern/SillyTavern-Docs/edit/main/Usage/Prompts/prompts.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit this page</span>
                                    </a>
                                </div>
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../usage/api-connections/tabbyapi/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Tabby​API</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../usage/core-concepts/advancedformatting/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Advanced Formatting</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>© Copyright 2025. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Prompts", level: 2, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
